name: test

on:
  workflow_dispatch: # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½ã«ã™ã‚‹

jobs:
  build:
    runs-on: ubuntu-latest
    steps:

      - name: Notify Mattermost
        if: always()   # æˆå¦ã«é–¢ã‚ã‚‰ãšå®Ÿè¡Œ
        uses: mattermost/action-mattermost-notify@master
        with:
          MATTERMOST_WEBHOOK_URL: ${{ secrets.MATTERMOST_WEBHOOK_URL }}
          TEXT: |
            ğŸš€ GitHub Actions workflow run finished!
            - Workflow: **${{ github.workflow }}**
            - Branch: `${{ github.ref_name }}`
            - Actor: ${{ github.actor }}
            - Status: **${{ job.status }}**
            ${{ job.status == 'success' && '- URL: [https://voucherz.jp](https://voucherz.jp)ã€€ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚' || '' }}
            - [Run Logs](${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }})
